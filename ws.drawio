<mxfile host="app.diagrams.net" modified="2023-05-18T09:20:53.348Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36" etag="R6rZDqgDFqdtG06H3cmg" version="21.3.2" type="github">
  <diagram name="第 1 页" id="nalSIyjnzdlpbdRMCooa">
    <mxGraphModel dx="2074" dy="1124" grid="0" gridSize="10" guides="0" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-4" value="1. WebSocket Open" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-16" target="9lHD97vPQQ2Ld9ZBpSz1-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="299" y="332" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="135" y="161" />
              <mxPoint x="459" y="362" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-9" value="2. Send Connect Message" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-16" target="9lHD97vPQQ2Ld9ZBpSz1-3" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="319" y="392" as="sourcePoint" />
            <mxPoint x="379" y="392" as="targetPoint" />
            <Array as="points">
              <mxPoint x="224" y="226" />
              <mxPoint x="203" y="265" />
              <mxPoint x="469" y="422" />
              <mxPoint x="449" y="392" />
              <mxPoint x="429" y="422" />
              <mxPoint x="409" y="392" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-14" value="&lt;div&gt;2 請求連線&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&quot;Type&quot;:1,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&quot;Data&quot;:{&lt;span style=&quot;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&quot;MemberID&quot;:&quot;會員編號(string)&quot;,&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;&lt;/span&gt;&lt;/span&gt;Token&quot;:&quot;登入Token(string)&quot;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;&lt;/span&gt;&lt;/span&gt;CID&quot;:&quot;主播編號(string)&quot;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="856" y="62" width="240" height="150" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-15" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;entryX=0.011;entryY=0.393;entryDx=0;entryDy=0;entryPerimeter=0;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" target="9lHD97vPQQ2Ld9ZBpSz1-14" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="94" y="227" as="sourcePoint" />
            <mxPoint x="590" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-22" value="請求驗證" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-18" target="9lHD97vPQQ2Ld9ZBpSz1-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="644" y="507" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-23" value="return 驗證結果" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-21" target="9lHD97vPQQ2Ld9ZBpSz1-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="644" y="582" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-27" value="3.回傳驗證" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-24" target="9lHD97vPQQ2Ld9ZBpSz1-17" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="439" y="692" as="sourcePoint" />
            <mxPoint x="499" y="692" as="targetPoint" />
            <Array as="points">
              <mxPoint x="163" y="456" />
              <mxPoint x="339" y="652" />
              <mxPoint x="339" y="672" />
              <mxPoint x="359" y="652" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-30" value="3.回傳驗證&lt;br&gt;失敗&lt;br&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;{&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &quot;&lt;/span&gt;Type&quot;:0,&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &quot;&lt;/span&gt;&lt;/span&gt;Data&quot;:{&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &quot;Code&quot;&lt;/span&gt;&lt;/span&gt;:&quot;錯誤碼(string)&quot;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;PS:錯誤碼&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;0001 服務暫停使用&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;0002 格式錯誤(傳送的資料欄位或資料型態有誤)&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;0003 使用者Token驗證失敗(若失敗即再送相同的錯了不然會被鎖)&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;0004 驗證的API無法連線&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;此階段Service只要失敗並送出錯誤碼均會斷掉Client連線&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;成功&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;狀況1 成功連線至主播聊天室&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;Type&quot;:1,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;Data&quot;:{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;CID&quot;:&quot;主播編號(string)&quot;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;IsVIP&quot;:&quot; (0:非VIP/1:VIP)&amp;nbsp; 是否為VIP(string) &quot;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;狀況2 主播已離線&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&quot;Type&quot;:5,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Data&quot;:{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;CID&quot;:&quot;&lt;span style=&quot;color: rgb(255, 255, 255);&quot;&gt;主播編號(string)&lt;/span&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&quot;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;IsVIP&quot;:&quot;&lt;span style=&quot;color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;(0:非VIP/1:VIP)&amp;nbsp; 是否為VIP(string)&lt;/span&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;PS 1:此階段會去API查詢一次是否為VIP會員&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(僅初次建立連線時查一次)&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 此連線後直至斷線均不會再行檢查&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;PS 2:只要成功後主播事後斷線或&lt;span style=&quot;background-color: initial;&quot;&gt;一開始未與主播連線&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;均會傳送&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;狀況2訊息，且將Service會將會員連線狀態改為閒置&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 不會斷掉WebSocket連線&lt;/span&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="850" y="230" width="390" height="600" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-31" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;entryX=0.004;entryY=0.384;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-24" target="9lHD97vPQQ2Ld9ZBpSz1-30" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="219" y="451" as="sourcePoint" />
            <mxPoint x="740" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-34" value="4.推送訊息" style="html=1;verticalAlign=bottom;startArrow=circle;startFill=1;endArrow=open;startSize=6;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-32" target="9lHD97vPQQ2Ld9ZBpSz1-33" edge="1">
          <mxGeometry x="0.0026" width="80" relative="1" as="geometry">
            <mxPoint x="504" y="842" as="sourcePoint" />
            <mxPoint x="299" y="812" as="targetPoint" />
            <Array as="points">
              <mxPoint x="203" y="612" />
              <mxPoint x="189" y="500" />
              <mxPoint x="459" y="812" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-35" value="4.推送訊息&lt;br&gt;對話&lt;br&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;{&lt;br&gt;&amp;nbsp; &amp;nbsp; &quot;Type&quot;:2,&lt;br&gt;&amp;nbsp; &amp;nbsp; &quot;Data&quot;:{&lt;br&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;CID&quot;:&quot;主播編號(string)&quot;,&lt;br&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;IsModel&quot;:false,&amp;nbsp; //發話者是否為主播&lt;br&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;Text&quot;:&quot;訊息內容(string)&quot;,&lt;br&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;UserName&quot;:&quot;發話者名稱(string)&quot;&lt;br&gt;&amp;nbsp; &amp;nbsp; }&lt;br&gt;}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;{&quot;Type&quot;:3,&quot;Data&quot;:{&quot;CID&quot;:&quot;107283779&quot;,&quot;IsModel&quot;:false,&quot;Point&quot;:39,&quot;Text&quot;:&quot;請米米喝珍珠奶茶 Pearl milk tea&quot;,&quot;UserName&quot;:&quot;takcham&quot;}}&lt;/span&gt;&lt;span style=&quot;color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;hr&gt;送禮&lt;br&gt;{&lt;br&gt;&amp;nbsp; &amp;nbsp; &quot;Type&quot;:3,&lt;br&gt;&amp;nbsp; &amp;nbsp; &quot;Data&quot;:{&lt;br&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;CID&quot;:&quot;主播編號(string)&quot;,&lt;br&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;IsModel&quot;:false,&amp;nbsp; //發話者是否為主播&lt;br&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;Point&quot;:點數(float),&lt;br&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;Text&quot;:&quot;訊息內容(string)&quot;&quot;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &quot;UserName&quot;:&quot;發話者名稱(string)&quot;&lt;br&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;}&lt;br&gt;}&lt;br&gt;&lt;hr&gt;主播離線&lt;br&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;{&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&quot;Type&quot;:5,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Data&quot;:{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;CID&quot;:&quot;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255);&quot;&gt;主播編號(string)&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&quot;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;IsVIP&quot;:&quot;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;(0:非VIP/1:VIP)&amp;nbsp; 是否為VIP(string)&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="857" y="862" width="410" height="500" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-37" value="主播切換" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="1" vertex="1">
          <mxGeometry x="7" y="723" width="410" height="390" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-1" value="Client" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};labelBackgroundColor=none;fillColor=#5D7F99;strokeColor=#D0CEE2;fontColor=#1A1A1A;" parent="1" vertex="1">
          <mxGeometry x="37" y="53" width="100" height="1230" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-16" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-1" vertex="1">
          <mxGeometry x="45" y="100" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-17" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-1" vertex="1">
          <mxGeometry x="45" y="400" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-33" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-1" vertex="1">
          <mxGeometry x="45" y="550" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-39" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-1" vertex="1">
          <mxGeometry x="47" y="693" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-51" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-1" vertex="1">
          <mxGeometry x="44" y="833" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-2" value="Service" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="1" vertex="1">
          <mxGeometry x="248" y="52" width="100" height="1230" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-3" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-2" vertex="1">
          <mxGeometry x="45" y="100" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-18" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-2" vertex="1">
          <mxGeometry x="45" y="240" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-24" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-2" vertex="1">
          <mxGeometry x="45" y="330" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-28" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-2" vertex="1">
          <mxGeometry x="50" y="360" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-29" value="確認房間" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="9lHD97vPQQ2Ld9ZBpSz1-2" target="9lHD97vPQQ2Ld9ZBpSz1-28" edge="1">
          <mxGeometry x="-0.0588" y="15" relative="1" as="geometry">
            <mxPoint x="55" y="340" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="85" y="370" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-32" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-2" vertex="1">
          <mxGeometry x="45" y="550" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-44" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-2" vertex="1">
          <mxGeometry x="45" y="732" width="10" height="122" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-45" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-2" vertex="1">
          <mxGeometry x="48" y="765" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-46" value="確認房間" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="9lHD97vPQQ2Ld9ZBpSz1-2" target="9lHD97vPQQ2Ld9ZBpSz1-45" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="53" y="745" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="83" y="775" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-20" value="API" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="1" vertex="1">
          <mxGeometry x="439" y="52" width="100" height="366" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-21" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="9lHD97vPQQ2Ld9ZBpSz1-20" vertex="1">
          <mxGeometry x="45" y="255" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-40" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-32" target="9lHD97vPQQ2Ld9ZBpSz1-35" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="243" y="615" as="sourcePoint" />
            <mxPoint x="491" y="582" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-38" value="" style="shape=umlDestroy;whiteSpace=wrap;html=1;strokeWidth=3;targetShapes=umlLifeline;strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;" parent="1" vertex="1">
          <mxGeometry x="473" y="403" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-47" value="5.切換房間" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-39" target="9lHD97vPQQ2Ld9ZBpSz1-44" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="158" y="780" as="sourcePoint" />
            <mxPoint x="218" y="780" as="targetPoint" />
            <Array as="points">
              <mxPoint x="237" y="790" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-48" value="&lt;span style=&quot;background-color: initial;&quot;&gt;6.房間回應&amp;nbsp; &amp;nbsp;(同階段3成功)&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); background-color: initial;&quot;&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;狀況1 成功連線至主播聊天室&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;{&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;Type&quot;:1,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;Data&quot;:{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;CID&quot;:&quot;主播編號(string)&quot;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;IsVIP&quot;:&quot; (0:非VIP/1:VIP)&amp;nbsp; 是否為VIP(string) &quot;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; color=&quot;#ffffff&quot;&gt;狀況2 主播已離線&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&quot;Type&quot;:5,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;Data&quot;:{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;CID&quot;:&quot;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255);&quot;&gt;主播編號(string)&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&quot;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;IsVIP&quot;:&quot;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;(0:非VIP/1:VIP)&amp;nbsp; 是否為VIP(string)&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(255, 255, 255); background-color: initial;&quot;&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(26, 26, 26);&quot;&gt;PS 1:此階段不再查詢是否為VIP會員所取得的值為3所回應之值&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(26, 26, 26);&quot;&gt;PS 2:只要成功後主播事後斷線或一開始未與主播連線&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(26, 26, 26);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); background-color: initial;&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;     &lt;/span&gt;&lt;/span&gt;均會傳送&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); background-color: initial;&quot;&gt;狀況2訊息，且將Service會將會員連線狀態改為&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;閒置&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;不會斷掉WebSocket連線&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="465" y="1177" width="335" height="370" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-49" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" target="9lHD97vPQQ2Ld9ZBpSz1-50" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="143" y="794" as="sourcePoint" />
            <mxPoint x="394" y="1387" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-50" value="5.切換房間&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;{&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;Type&quot;:4,&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&quot;Data&quot;:{&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt;&lt;/span&gt;CID&quot;:&quot;主播編號(string)&quot;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); background-color: initial;&quot;&gt;PS:切換房間需走過前面流程方可使用(否則不會反應)&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;strokeColor=#D0CEE2;fontColor=#1A1A1A;fillColor=#5D7F99;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="469" y="913" width="245" height="209" as="geometry" />
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-52" value="6.房間回應" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-44" target="9lHD97vPQQ2Ld9ZBpSz1-51" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="164" y="895" as="sourcePoint" />
            <mxPoint x="224" y="895" as="targetPoint" />
            <Array as="points">
              <mxPoint x="153" y="898" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9lHD97vPQQ2Ld9ZBpSz1-53" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;strokeColor=#736CA8;fontColor=#1A1A1A;" parent="1" source="9lHD97vPQQ2Ld9ZBpSz1-51" target="9lHD97vPQQ2Ld9ZBpSz1-48" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="191" y="1296" as="sourcePoint" />
            <mxPoint x="241" y="1246" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
